{% extends 'base.html' %} {% block content %}

<html>
    <hr>

    <body>
        <p>{% if user.is_authenticated %}
        <h4>ID : {{ user.username }} {{ test }}</h4>
            {% else %}visitor{% endif %}</p>
        <p1><a href="url">Grade calculation</a>
            <a href="flow.html">Flow</a></p1>
        <hr>
        <br>
        <a href="{% url 'home' %}">First Term</a> /
        <a href="{% url 'secondTerm' %}">Second Term</a> /
        <a href="{% url 'thirdTerm' %}">Third Term</a> /
        <a href="{% url 'fourthTerm' %}">Fourth Term</a> /
        <a href="{% url 'fifthTerm' %}">Fifth Term</a> /
        <a href="{% url 'sixthTerm' %}">Sixth Term</a> /
        <a href="{% url 'seventhTerm' %}">Seventh Term</a> /
        <a href="{% url 'eightTerm' %}">Eight Term</a> /
        You selected : Term 4
        <form action="calGrade" method="POST" >
            {% csrf_token %}

        <input id="term4_subject1" name="term4_subject1name" placeholder="Enter subject" />
        <select name="term4_subject1Unit" id="term4_subject1Unitid">
            <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject1Grade" id="term4_subject1Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5 (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject1>
        <br>
        <subject2>
        <input id="term4_subject2"  placeholder="Enter subject" />
        <select name="term4_subject2Unit" id="term4_subject2Unitid">
            <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject2Grade" id="term4_subject2Gradeid" >
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject2>
        <br>

        <subject3>
        <input id="term4_subject3" placeholder="Enter subject" />
        <select name="term4_subject3Unit" id="term4_subject3Unitid" >
            <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject3Grade" id="term4_subject3Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject3>
        <br>

        <subject4>
        <input id="term4_subject4" placeholder="Enter subject" />
       <select name="term4_subject4Unit" id="term4_subject4Unitid">
           <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject4Grade" id="term4_subject4Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject4>
        <br>

        <subject5>
        <input id="term4_subject5" placeholder="Enter subject" />
        <select name="term4_subject5Unit" id="term4_subject5Unitid">
            <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject5Grade" id="term4_subject5Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject5>
        <br>

        <subject6>
        <input id="term4_subject6" placeholder="Enter subject" />
       <select name="term4_subject6Unit" id="term4_subject6Unitid">
           <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject6Grade" id="term4_subject6Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject6>
        <br>

        <subject7>
        <input id="term4_subject7" placeholder="Enter subject" />
       <select name="term4_subject7Unit" id="term4_subject7Unitid">
           <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject7Grade" id="term4_subject7Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject7>
        <br>

        <subject8>
        <input id="term4_subject8" placeholder="Enter subject" />
        <select name="term4_subject8Unit" id="term4_subject8Unitid">
            <option value="0"></option>
            <option value="1">Unit: 1</option>
            <option value="2">Unit: 2</option>
            <option value="3">Unit: 3</option>
            <option value="4">Unit: 4</option>
        </select>
        <select name="term4_subject8Grade" id="term4_subject8Gradeid">
            <option value="0"></option>
            <option value="4">&nbsp; Grade: 4&nbsp; (A)</option>
            <option value="3.5">Grade: 3.5&nbsp; (B+)</option>
            <option value="3">&nbsp;Grade: 3&nbsp; (B)</option>
            <option value="2.5">Grade: 2.5&nbsp; (C+)</option>
            <option value="2">&nbsp;Grade: 2&nbsp; (C)</option>
            <option value="1.5">Grade: 1.5&nbsp; (D+)</option>
            <option value="1">&nbsp; Grade: 1&nbsp; (D)</option>
            <option value="0">&nbsp; Grade: 0&nbsp; (F)</option>
        </select>
        </subject8>
        <br>

            <button type="button" onclick="Submitcal()">Submit</button>
            <input type="submit"value="Save">

        </form><hr>
        <h1>
            Your GPA  : <p" id="demo""></p>

            </h1>
        <h1>Student Status : <p" id="student_state""></p></h1>
        <script>
        function Submitcal() {
            var sumunit = parseInt(document.getElementById("subject1Unitid").value)+parseInt(document.getElementById("subject2Unitid").value)+parseInt(document.getElementById("subject3Unitid").value)+parseInt(document.getElementById("subject4Unitid").value)+parseInt(document.getElementById("subject5Unitid").value)+parseInt(document.getElementById("subject6Unitid").value)+parseInt(document.getElementById("subject7Unitid").value)+parseInt(document.getElementById("subject8Unitid").value);

            var sub1 = parseFloat(document.getElementById("subject1Unitid").value)*parseFloat(document.getElementById("subject1Gradeid").value);
            var sub2 = parseFloat(document.getElementById("subject2Unitid").value)*parseFloat(document.getElementById("subject2Gradeid").value);
            var sub3 = parseFloat(document.getElementById("subject3Unitid").value)*parseFloat(document.getElementById("subject3Gradeid").value);
            var sub4 = parseFloat(document.getElementById("subject4Unitid").value)*parseFloat(document.getElementById("subject4Gradeid").value);
            var sub5 = parseFloat(document.getElementById("subject5Unitid").value)*parseFloat(document.getElementById("subject5Gradeid").value);
            var sub6 = parseFloat(document.getElementById("subject6Unitid").value)*parseFloat(document.getElementById("subject6Gradeid").value);
            var sub7 = parseFloat(document.getElementById("subject6Unitid").value)*parseFloat(document.getElementById("subject6Gradeid").value);
            var sub8 = parseFloat(document.getElementById("subject6Unitid").value)*parseFloat(document.getElementById("subject6Gradeid").value);

            var sumsub = sub1+sub2+sub3+sub4+sub4+sub5+sub6+sub7+sub8;

            var resultGrade = sumsub/sumunit;
            var n = resultGrade.toFixed(2);
          document.getElementById("demo").innerHTML = n;
          if (resultGrade >= 2.00)
          {var state = "Normal State";}
          else if (resultGrade < 1.5)
          {var state = "Retired";}
          else if (resultGrade < 2)
          {var state = "Probation";}
          document.getElementById("student_state").innerHTML = state;
        }
        </script>

        <hr>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
            google.charts.load('current', {'packages':['line']});
      google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

      var data = new google.visualization.DataTable();
      data.addColumn('number', 'Term');
      data.addColumn('number', 'Your GPA');


      data.addRows([
        [0,  0]
        [1,  {{result}}],
        [2,  0],
        [3,  0],
        [4,  0],
        [5,  0],
        [6,  0],
        [7,  0],
        [8,  0]
      ]);

      var options = {
        chart: {
          title: 'GPA Graph',
          subtitle: 'You grade that you submited will be display in line chart)'
        },
        width: 900,
        height: 300
      };

      var chart = new google.charts.Line(document.getElementById('linechart_material'));

      chart.draw(data, google.charts.Line.convertOptions(options));
    }

    </script>
        <body>
    <div id="linechart_material" style="width: 900px; height: 300px"></div>
  </body>

        <table id="id_list_table">


        </table>

    </body>

</html>

{% endblock %}